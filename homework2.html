<!DOCTYPE html>
	<html>
		<head>
			<meta charset="utf-8">
			<title>Homework 2</title>
			<meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no">
			<link href="https://api.mapbox.com/mapbox-gl-js/v2.14.1/mapbox-gl.css" rel="stylesheet">
			<script src="https://api.mapbox.com/mapbox-gl-js/v2.14.1/mapbox-gl.js"></script>
		<style>
			body {
				margin: 0px;
				padding: 0px; 
				background-color: #A60A17;
			}
			
			#map {
				position: absolute;
				top: 300px;
				bottom: 25px;
				width: 100%;
			}
	
		</style>
		</head>
<body>
	<h1 style="margin-left: 30px; color: #FFD87C;">Homework 2: Mapbox</h1>

	<h2 style="color: #FFD87C; margin-left: 30px; font-size: 40px;">Welcome to Chinatown.</h2>
	<p style="margin: 30px; font-size: 18px; color: #FFD87C;">In this map, you'll find fifteen of my must visit spots in Chinatown. Growing up in Chinatown, it's hard to see the gentrification progress. Most of the residents that lived in the neighborhood when I did have since moved out to Brooklyn's Chinatown, or Flushing, but Manhattan's Chinatown will always have a special place in my heart. I stop by at least two of the shops and small businesses when I'm in the area, so without further ado, I present to you my favorite places in Chinatown.</p>

	<p style="margin: 30px; font-size: 18px; color: #FFD87C;;">Red Pins: Places to Shop | Blue Pins: Places to Eat</p>
	

	<br>
	
	<div id="map"></div>
	<script>
		mapboxgl.accessToken = 'pk.eyJ1IjoibGlhbm5ha2wiLCJhIjoiY2xtYmIxNTNyMHk4djNkcHJ4ZGQ2OGQzNiJ9.jvJjMa_bvZ8zFhuP3IDk3A';
   	 const map = new mapboxgl.Map({
     	   container: 'map', // container ID
     	   // Choose from Mapbox's core styles, or make your own style with Mapbox Studio
     	   style: 'mapbox://styles/liannakl/clmbm0n1l034301ma0ehp87tx', // style URL
      	 center: [-73.9970, 40.7162], // starting position [lng, lat]
     	   zoom: 15.3 // starting zoom
    	});

	map.on('load', () => {
		map.addSource('places', {
		// This GeoJSON contains features that include an "icon" property. The value of the "icon" property corresponds to an image in the Mapbox Streets style's sprite.
		'type': 'geojson',
		'data': {
			'type': 'FeatureCollection',
			'features': [
				{
					'type': 'Feature',
					'properties': {
						'description':
							'<strong>Yu &amp; Me Books</strong><p>Opened in December 2021 by Lucy Yu, <a href="https://www.yuandmebooks.com/" target="_blank" title="Opens in a new window">Yu &amp; Me Books</a> is the first Asian American woman-owned bookstore in Chinatown. The bookstore is also a bar and cafe, and its small size creates cozy vibes. The books sold here focus on Asian American voices and immigrant stories.</p>',
						'icon': 'mapbox-marker-icon-red'
					},
					'geometry': {
						'type': 'Point',
						'coordinates': [-73.99955462620204, 40.71496771371628]
					}
				},
				
				{
					'type': 'Feature',
					'properties': {
						'description':
							'<strong>Nom Wah Tea Parlor</strong><p>The <a href="https://nomwah.com/" target="_blank" title="Opens in a new window">Nom Wah Tea Parlor</a> opened in 1920 in the &quot;Bloody Angle&quot; amid the height of gang violence in Chinatown. The restaurant opened as a tea parlor and bakery, shifitng to serve bakery items and dimsum starting in the 1950s. Wilson Tang took over the restaurant from his uncle in 2015 and has since expanded to Nolita and Philadelphia.</p>',
					'icon': 'mapbox-marker-icon-blue'
					},
					'geometry': {
						'type': 'Point',
						'coordinates': [-73.99820417267875, 40.71451080342601]
					}
				},
				
				{
					'type': 'Feature',
					'properties': {
						'description':
							'<strong>Dashop</strong><p>Dashop has been around since I was a kid and has recently expanded to a bigger space after many years. Unfortunately they don&apos;t have a website, but they are filled to the brim with collectibles, such as Pokemon and Yu-Gi-Oh cards, action figures, Gundam figures, and Funko Pops.</p>',
					'icon': 'mapbox-marker-icon-red'
					},
					'geometry': {
						'type': 'Point',
						'coordinates': [-73.99742514932917, 40.715645003310335]
					}
				},
				
				{
					'type': 'Feature',
					'properties': {
						'description':
							'<strong>The Original Chinatown Ice Cream Factory</strong><p>For almost forty years&comma;<a href="https://www.chinatownicecreamfactory.com/" target="_blank" title="Opens in a new window">The Original Chinatown Ice Cream Factory</a> has been creating unique ice cream flavors for New Yorkers. The shop was opened in 1978 by Philip Seid and is now run by his daughter, Christina. They serve classic flavors such as chocolate and vanilla to exotic flavors like durian and don tot (a light and creamy Chinese egg custard) and everything in between.</p>',
					'icon': 'mapbox-marker-icon-blue'
					},
					'geometry': {
						'type': 'Point',
						'coordinates': [-73.99815489725268, 40.71543131931549]
					}
				},
				
				{
					'type': 'Feature',
					'properties': {
						'description':
							'<strong>ViVi Bubble Tea</strong><p>I can humble brag that I used to live just a few doors down from the first <a href="https://vivibubbletea.com/" target="_blank" title="Opens in a new window">ViVi Bubble Tea</a>. The bubble tea franchise opened their first location in New York in 2007, and it so happened to be on my block. They now have over 100 locations across 4 continents and 13 countries.</p>',
					'icon': 'mapbox-marker-icon-blue'
					},
					'geometry': {
						'type': 'Point',
						'coordinates': [-73.99749382614512, 40.71518797074306]
					}
				},

				{
					'type': 'Feature',
					'properties': {
						'description':
							'<strong>Alimama Tea</strong><p><a href="https://www.alimamanyc.com/" target="_blank" title="Opens in a new window">Alimama Tea</a> was opened in February 2018 by Janie Wang, specializing in mochi donuts and cream puffs. They also offer cold brew teas and everything they offer is made daily in house.</p>',
					'icon': 'mapbox-marker-icon-blue'
					},
					'geometry': {
						'type': 'Point',
						'coordinates': [-73.99919693347572, 40.71579566878157]
					}
				},

				{
					'type': 'Feature',
					'properties': {
						'description':
							'<strong>Bahn Mi Saigon</strong><p>If you&apos;re looking for the best Vietnamese sandwiches in Chinatown, <a href="https://kubiti.blog/banh-mi-saigon-new-york/" target="_blank" title="Opens in a new window">Bahn Mi Saigon</a> has you covered. While they offer other traditional Vietnamese dishes such as pho and rice bowls, they are most known for their bahn mis.</p>',
					'icon': 'mapbox-marker-icon-blue'
					},
					'geometry': {
						'type': 'Point',
						'coordinates': [-73.99670444075358, 40.71927250747158]
					}
				},

				{
					'type': 'Feature',
					'properties': {
						'description':
							'<strong>The Granddaddy</strong><p>I will always choose coffee shop coffee over Starbucks and Dunkin&apos; so of course <a href="https://www.thegranddaddy.nyc/" target="_blank" title="Opens in a new window">The Granddaddy</a> is a featured location in Chinatown. They offer classic coffee shop goods like coffee and baked goods, but also offer wine and beer.</p>',
					'icon': 'mapbox-marker-icon-blue'
					},
					'geometry': {
						'type': 'Point',
						'coordinates': [-73.99203075063278, 40.71776239514007]
					}
				},

				{
					'type': 'Feature',
					'properties': {
						'description':
							'<strong>Yaya Tea</strong><p><a href="https://yayatea.com/" target="_blank" title="Opens in a new window">Yaya Tea</a> is a bubble tea spot that focuses on fruit teas instead of milk teas. They offer a variety of toppings for their drinks and onigiri, a popular Japanese snack.</p>',
					'icon': 'mapbox-marker-icon-blue'
					},
					'geometry': {
						'type': 'Point',
						'coordinates': [-73.99501790928635, 40.71624135947503]
					}
				},

				{
					'type': 'Feature',
					'properties': {
						'description':
							'<strong>Prince Tea House</strong><p><a href="https://www.princeteahouse.com/" target="_blank" title="Opens in a new window">Prince Tea House</a> considers tea to be an indulgent drink that is ful of flavor and a delightful experience for the senses. They offer a variety of tea that can be served hot or cold, light lunch dishes and many desserts.</p>',
					'icon': 'mapbox-marker-icon-blue'
					},
					'geometry': {
						'type': 'Point',
						'coordinates': [-73.9948000717065, 40.71898339533283]
					}
				},

				{
					'type': 'Feature',
					'properties': {
						'description':
							'<strong>Kong Sikh Tong</strong><p>If you&apos;re looking for Hong Kong style food, <a href="https://kongsihktong.com/" target="_blank" title="Opens in a new window">Kong Sikh Tong</a> is my reccommendation. Their menu includes traditional Chinese cuisine and modern Hong Kong style dishes. Be sure to visit on a less popular day, as they almost always have customers waiting to be seated.</p>',
					'icon': 'mapbox-marker-icon-blue'
					},
					'geometry': {
						'type': 'Point',
						'coordinates': [-73.99811726719511, 40.71542243135314]
					}
				},

				{
					'type': 'Feature',
					'properties': {
						'description':
							'<strong>Elizabeth Center</strong><p>Elizabeth Center has been a staple in my childhood the same way Dashop is. The basement level of this building is like a mini mall, with shops offering cute stationery and stuffed animals.</p>',
					'icon': 'mapbox-marker-icon-red'
					},
					'geometry': {
						'type': 'Point',
						'coordinates': [-73.99759617079052, 40.71603530216476]
					}
				},

				{
					'type': 'Feature',
					'properties': {
						'description':
							'<strong>Malaysia Beef Jerky</strong><p>Since 1996, <a href="https://malaysiabeefjerky.com/" target="_blank" title="Opens in a new window">Malaysia Beef Jerky</a> has been making beef, pork, and chicken jerky from scratch. They sell their jerky by the pound and I would argue they make the best beef and pork jerky in Chinatown.</p>',
					'icon': 'mapbox-marker-icon-blue'
					},
					'geometry': {
						'type': 'Point',
						'coordinates': [-73.99601507672209, 40.718451535836515]
					}
				},

				{
					'type': 'Feature',
					'properties': {
						'description':
							'<strong>Tofu Tofu</strong><p>One restaurant I could never get tired of is <a href="http://www.tofutofukoreanbbq.com/" target="_blank" title="Opens in a new window">Tofu Tofu</a>. They are a Korean restaurant in Chinatown and you will probably find me there if I&apos;m in the area. The owner is also incredibly kind and they have the best Korean fried chicken.</p>',
					'icon': 'mapbox-marker-icon-blue'
					},
					'geometry': {
						'type': 'Point',
						'coordinates': [-73.99546277380938, 40.71764115679053]
					}
				},

				{
					'type': 'Feature',
					'properties': {
						'description':
							'<strong>Lanterne Lab</strong><p>If you&apos;re looking for a fun experience in Chinatown, I recommend <a href="https://lanternelab.com/" target="_blank" title="Opens in a new window">Lanterne Lab</a>. They offer a custom candle making experience that is one of a kind. In 45 minutes, you&apos;ll get to pour your very own candle, and in another hour, you can return to pick it up.</p>',
					'icon': 'mapbox-marker-icon-red'
					},
					'geometry': {
						'type': 'Point',
						'coordinates': [-73.99938529295677, 40.71604803178006]
					}
				},

			]
		}
	});

	// Add a layer showing the places.
	map.addLayer({
		'id': 'places',
		'type': 'symbol',
		'source': 'places',
		'layout': {
			'icon-image': ['get', 'icon'],
			'icon-allow-overlap': true
		}
	});
 
	// When a click event occurs on a feature in the places layer, open a popup at the location of the feature, with description HTML from its properties.
	map.on('click', 'places', (e) => {
		// Copy coordinates array.
		const coordinates = e.features[0].geometry.coordinates.slice();
		const description = e.features[0].properties.description;
 
	// Ensure that if the map is zoomed out such that multiple copies of the feature are visible, the popup appears over the copy being pointed to.
	while (Math.abs(e.lngLat.lng - coordinates[0]) > 180) {
		coordinates[0] += e.lngLat.lng > coordinates[0] ? 360 : -360;
	}
 
	new mapboxgl.Popup()
		.setLngLat(coordinates)
		.setHTML(description)
		.addTo(map);
	});
 
	// Change the cursor to a pointer when the mouse is over the places layer.
	map.on('mouseenter', 'places', () => {
		map.getCanvas().style.cursor = 'pointer';
	});
 
	// Change it back to a pointer when it leaves.
	map.on('mouseleave', 'places', () => {
		map.getCanvas().style.cursor = '';
	});
});

map.on('load', () => {
	// Add a data source containing GeoJSON data.
	map.addSource('chinatown', {
		'type': 'geojson',
		'data': {
			'type': 'Feature',
			'geometry': {
				'type': 'Polygon',
				// These coordinates outline Maine.
				'coordinates': [
					[
						[-74.00191521953647, 40.71935479546599],
						[-73.99862531968724, 40.71709174856674],
						[-73.99777206505622, 40.716817198920715],
						[-73.99649265909625, 40.718997073501846],
						[-73.9892019341508, 40.716715678469974],
						[-73.98972075812631, 40.71565527487346],
						[-73.99023810973999, 40.71452569727762],
						[-73.99010684141982, 40.713378541892126],
						[-73.99710267070441, 40.71280495678245],
						[-73.99746558900137, 40.713975533380854],
						[-73.99865472554647, 40.71350730521113],
						[-74.00049248202369, 40.71436181915703],
						[-74.00054653368493, 40.71515779487028],
						[-74.00405216999454, 40.716837506522516],
						[-74.00191521953647, 40.71935479546599]
					]
				]
			}
		}
	});
 
	// Add a new layer to visualize the polygon.
	map.addLayer({
		'id': 'chinatown',
		'type': 'fill',
		'source': 'chinatown', // reference the data source
		'layout': {},
			'paint': {
			'fill-color': '#D3A84C', // blue color fill
			'fill-opacity': 0.25
		}
	});

	// Add a black outline around the polygon.
	map.addLayer({
		'id': 'outline',
		'type': 'line',
		'source': 'chinatown',
		'layout': {},
		'paint': {
			'line-color': '#D3A84C',
			'line-width': 3
			}
		});
	});

		
	</script>

</body>
</html>
